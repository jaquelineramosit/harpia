{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\Desenvolvimento\\\\Code4\\\\Harpia\\\\HarpiaV2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\Desenvolvimento\\\\Code4\\\\Harpia\\\\HarpiaV2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:\\\\Desenvolvimento\\\\Code4\\\\Harpia\\\\HarpiaV2\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Desenvolvimento\\\\Code4\\\\Harpia\\\\HarpiaV2\\\\frontend\\\\src\\\\pages\\\\Acessos\\\\Logon\\\\index.js\";\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport imgLogon from \"../../../assets/imgLogon.svg\";\nimport { FaSignInAlt } from 'react-icons/fa';\nimport './style.css';\nimport api from '../../../../src/services/api';\nexport default function Logon() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      login = _useState2[0],\n      setLogin = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      senhaForm = _useState4[0],\n      setSenhaForm = _useState4[1];\n\n  var history = useHistory();\n\n  function handleLogin(_x) {\n    return _handleLogin.apply(this, arguments);\n  }\n\n  function _handleLogin() {\n    _handleLogin = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(e) {\n      var data, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              data = {\n                login: login,\n                senhaForm: senhaForm\n              };\n              _context.prev = 2;\n              _context.next = 5;\n              return api.post('sessions', data);\n\n            case 5:\n              response = _context.sent;\n              localStorage.setItem('userId', response.data.id);\n              localStorage.setItem('nomeUsuario', response.data.nome);\n              history.push('/dashboardv1');\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](2);\n              alert('Usuário e/ou senha inválido(s). Tente novamente.');\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 11]]);\n    }));\n    return _handleLogin.apply(this, arguments);\n  }\n\n  return React.createElement(\"div\", {\n    className: \"logon-container row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    className: \"form col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"brand-logon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"link\",\n    href: \"/dashboardv1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Harpia\")), React.createElement(\"form\", {\n    id: \"login-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Fa\\xE7a o seu Logon\"), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-group-icon right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-envelope\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  })), React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"Usu\\xE1rio\",\n    autocomplete: \"off\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-group-icon right\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"input-icon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"fa fa-lock font-16\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  })), React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Senha\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-info btn-block\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Login\")), React.createElement(\"div\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(Link, {\n    className: \"color-blue\",\n    to: \"/register\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(FaSignInAlt, {\n    size: 16,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }), \"N\\xE3o tenho acesso\")))), React.createElement(\"div\", {\n    className: \"img-logon col-md-6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: imgLogon,\n    alt: \"Imagem Logon\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["D:\\Desenvolvimento\\Code4\\Harpia\\HarpiaV2\\frontend\\src\\pages\\Acessos\\Logon\\index.js"],"names":["React","useState","Link","useHistory","FaSignInAlt","api","Logon","login","setLogin","senhaForm","setSenhaForm","history","handleLogin","e","preventDefault","data","post","response","localStorage","setItem","id","nome","push","alert","imgLogon"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport imgLogon from '../../../assets/imgLogon.svg';\r\nimport { FaSignInAlt } from 'react-icons/fa';\r\nimport './style.css';\r\nimport api from '../../../../src/services/api';\r\n\r\nexport default function Logon() {\r\n    const [login, setLogin] = useState('');\r\n    const [senhaForm, setSenhaForm] = useState('');\r\n\r\n    const history = useHistory();\r\n\r\n    async function handleLogin(e) {\r\n        e.preventDefault();\r\n\r\n        const data = {\r\n            login,\r\n            senhaForm\r\n        };\r\n\r\n        try {\r\n\r\n            const response = await api.post('sessions', data);\r\n            localStorage.setItem('userId', response.data.id);\r\n            localStorage.setItem('nomeUsuario', response.data.nome);\r\n            history.push('/dashboardv1');\r\n\r\n        } catch (err) {\r\n\r\n            alert('Usuário e/ou senha inválido(s). Tente novamente.');\r\n\r\n        }\r\n    }\r\n\r\n    return (  \r\n        <div className=\"logon-container row\">\r\n            <section className=\"form col-md-6\">                \r\n                <div className=\"brand-logon\">\r\n                    <a className=\"link\" href=\"/dashboardv1\">Harpia</a>\r\n                </div>\r\n                <form id=\"login-form\">\r\n                    <h2 className=\"\">Faça o seu Logon</h2>\r\n                    <div className=\"form-group\">\r\n                        <div className=\"input-group-icon right\">\r\n                            <div className=\"input-icon\">\r\n                                <i className=\"fa fa-envelope\"></i>\r\n                            </div>\r\n                            <input className=\"form-control\" type=\"email\" name=\"email\" placeholder=\"Usuário\" autocomplete=\"off\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <div className=\"input-group-icon right\">\r\n                            <div className=\"input-icon\"><i className=\"fa fa-lock font-16\"></i></div>\r\n                            <input className=\"form-control\" type=\"password\" name=\"password\" placeholder=\"Senha\" />\r\n                        </div>\r\n                    </div>                    \r\n                    <div className=\"form-group\">\r\n                        <button className=\"btn btn-info btn-block\" type=\"submit\">Login</button>\r\n                    </div>                    \r\n                    <div className=\"text-center\">                        \r\n                        <Link className=\"color-blue\" to=\"/register\">\r\n                            <FaSignInAlt size={16} />\r\n                            Não tenho acesso\r\n                            </Link>\r\n                    </div>\r\n                </form>\r\n            </section>\r\n            <div className=\"img-logon col-md-6\">\r\n                <img src={imgLogon} alt=\"Imagem Logon\"></img>                \r\n            </div>\r\n        </div>\r\n    )    \r\n}"]},"metadata":{},"sourceType":"module"}